# Автоматизиран микроскоп

_Този проект е разработен в рамките на първия [Изобретателски маратон](https://sites.google.com/view/izobretatelski-maraton/) във физически факултет на СУ „Св. Климент Охридски“, проведен на 18-20 май 2017 г._

## Автори – отбор „Забраван“:
* Антон Зяпков
* Мая Жекова
* Калоян Генков

## Описание
Проектът осъвременява оптичен микроскоп Jenatech Inspection на Carl Zeiss, като към предметната масичка се прикачват стъпкови мотори. Моторите се управляват с Arduino, което от своя страна е свързано към компютър. Възможно е контролирането на положението както през компютъра (имплементирано е управление на Mathematica), както и без компютър (посредством джойстик).

## Използван хардуер и материали
* Оптичен микроскоп Jenatech Inspecton на Carl Zeiss, оборудван с уеб камера
* Arduino Uno
* Аналогов джойстик
* 3 бр. стъпкови мотори Pololu, размер Nema 8
* 3 бр. драйвъри за стъпкови мотори Pololu A4988
* 3 бр. Квадратни ремъци 1x1x50 mm
* Захранване 24 V / 1,5 A
* Крепежни елементи (дървен материал, метални пластини, 3D-принтирани детайли, винтове и гайки

## Свързване на компонентите
Всеки мотор се свързва към един драйвър, съгласно документацията на драйвъра. Всеки драйвър се захранва с 24 V от захранване и с 5 V от Arduino. Регулаторите на максималния ток през намотките са настроени съгласно документацията, така че той да не превишава номиналния ток на конкретните мотори.
Всеки драйвър е свързан с 3 пина към Arduino контролера: Enable, Direction и Step. Enable е общ за всички драйвъри с цел осигуряване на повече свободни пинове на Arduino контролера при бъдещи доработки.
Arduino контролерът е свързан с компютър по USB кабел и е имплементирана серийна комуникация.
### Използвани пинове от Arduino контролера:
* 7 – общ Enable за трите драйвъра
* 8, 10, 12 – Step сигнал съответно за драйвърите на X, Y и фокус моторите
* 9, 11, 13 – Direction сигнал съответно за драйвърите на X, Y и фокус моторите
* A0, A1 - X и Y посоки на джойстика
* А2 – бутон на джойстика
### Серийна комуникация
Протоколът за серийна комуникация включва последователното изпращане на следните данни по серийния порт:
1.  Кой мотор да се завърти (1=X, 2=Y, 3=Z)
2.  Посока на въртене (1 или 2)
3.  Брой стъпки (цяло число)

Пример: 

```
Motor X/Y/Z 1/2/3: 
> 1
Direction 1/2: 
> 2
Steps /ne prekalqvai/: 
> 50
```
